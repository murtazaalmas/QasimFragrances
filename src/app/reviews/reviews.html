<section class="reviews-section">
  <div class="">
    <div class="card-header">
      <div class="title-icon">⭐</div>
      <div class="title-text">
        <strong>Rate Our Product</strong>
        <p>Provide us with feedback for the product.</p>
      </div>
      <!-- Optionally, you can wire this up to close a modal -->
      <button class="close-btn" style="visibility:hidden">✕</button>
    </div>
    <div class="card-body">
      <div class="rating-score">
        <div class="score">{{ overallRating }}</div>
        <div class="stars">
          <ng-container *ngFor="let star of [1,2,3,4,5]">
            <span [class.filled]="star <= overallRatingRounded">&#9733;</span>
          </ng-container>
        </div>
      </div>
      <div class="rating-meta">
        <span>{{ overallRating }} · {{ reviews.length }} Ratings</span>
        <a href="#">{{ reviews.length }} reviews</a>
      </div>
      <div class="rating-bars">
        <div class="bar" *ngFor="let bar of [5,4,3,2,1]">
          <span>{{ bar }}.0</span>
          <div class="progress" [style.width.%]="getBarPercent(bar)"></div>
        </div>
      </div>
    </div>
    <!-- <div class="card-footer">
      <button class="review-btn">✏️ Write a Review</button>
    </div> -->
  </div>
  <h2 style="margin-top:2.5rem;">Customer Comments</h2>
  <div class="reviews-list">
    <div class="review-card" *ngFor="let review of reviews">
      <div class="review-header">
        <img [src]="review.img" [alt]="review.name" class="review-avatar" />
        <span class="review-name">{{ review.name }}</span>
        <span class="review-rating">
          <ng-container *ngFor="let star of [1,2,3,4,5]">
            <span [class.filled]="star <= review.rating">&#9733;</span>
          </ng-container>
        </span>
      </div>
      <div class="review-date">{{ review.date }}</div>
      <div class="review-comment">{{ review.comment }}</div>
    </div>
  </div>
</section> 